(()=>{"use strict";const t=document.querySelector("[data-lists]"),e=document.querySelector("[data-new-list-form]"),a=document.querySelector("[data-new-list-input]"),l=document.querySelector("[data-delete-list-button]"),n=document.querySelector("[data-list-display-container"),s=document.querySelector("[data-list-count]"),i=(document.querySelector("[data-tasks]"),document.querySelector("[data-list-title]")),d="task.lists",o="task.selectedListId";let r=JSON.parse(localStorage.getItem(d))||[],c=localStorage.getItem(o);function u(){localStorage.setItem(d,JSON.stringify(r)),localStorage.setItem(o,c),m()}function m(){!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(t),r.forEach((e=>{const a=document.createElement("li");a.dataset.listId=e.id,a.classList.add("list-name"),a.innerText=e.name,e.id===c&&a.classList.add("active-list"),t.appendChild(a)}));const e=r.find((t=>t.id===c));null==c?n.style.display="none":(n.style.display="",i.innerText=e.name,function(t){const e=t.tasks.filter((t=>!t.complete)).length,a=1===e?"task":"tasks";s.innerText=`${e} ${a} remaining`}(e))}t.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(c=t.target.dataset.listId,u())})),e.addEventListener("submit",(t=>{t.preventDefault();const e=a.value;if(null==e||""===e)return;const l=(n=e,{id:Date.now().toString(),name:n,tasks:[]});var n;a.value=null,r.push(l),u()})),l.addEventListener("click",(t=>{r=r.filter((t=>t.id!==c)),c=null,u()})),m()()})();